name = "pow3r-defender"
main = "src/index.ts"
compatibility_date = "2024-11-14"

[env.production]
name = "pow3r-defender-production"

# D1 Database
# NOTE: D1 requires manual creation via Cloudflare Dashboard or API token with D1 permissions
# Create at: https://dash.cloudflare.com/7d84a4241cd92238463580dd0e094bc7/workers/d1
# After creating, uncomment and add the database_id:
# [[env.production.d1_databases]]
# binding = "DEFENDER_DB"
# database_name = "defender-db"
# database_id = "YOUR_D1_DATABASE_ID"

# KV Namespaces
[[env.production.kv_namespaces]]
binding = "DEFENDER_FORGE"
id = "a4b67e0b4324472bab4348a0f2a19e0a"

[[env.production.kv_namespaces]]
binding = "CONFIG_STORE"
id = "0bd1ae60c3f54c7eb0c8d9465245ec47"

[[env.production.kv_namespaces]]
binding = "TELEGRAM_STATE"
id = "c956774b8879481a8ed762df9bca0238"

# R2 Buckets
[[env.production.r2_buckets]]
binding = "TELEGRAM_MEDIA"
bucket_name = "telegram-media"

[[env.production.r2_buckets]]
binding = "EVIDENCE_VAULT"
bucket_name = "evidence-vault"

# Vectorize Index
# NOTE: Vectorize requires manual creation via Cloudflare Dashboard or API token with Vectorize permissions
# Create at: https://dash.cloudflare.com/7d84a4241cd92238463580dd0e094bc7/workers/vectorize
# [[env.production.vectorize]]
# binding = "DEFENDER_VECTORS"
# index_name = "defender-vectors"
# dimensions = 768
# metric = "cosine"

# Environment Variables
[env.production.vars]
ABI_WEBHOOK_URL = "credential:abi_webhook_url"

# Secrets (set via: wrangler secret put SECRET_NAME)
# SPUR_API_KEY
# OSINT_INDUSTRIES_API_KEY
# TRACERS_API_KEY
# IPQS_API_KEY
# HUNTER_API_KEY
# HIBP_API_KEY
# NUMVERIFY_API_KEY
# WHOIS_API_KEY
# ETHEREUM_RPC_URL

